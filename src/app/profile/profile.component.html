<div class="profile-container">
    <h2>Mon Profil</h2>
  
    <!-- Affichage des informations actuelles -->
    <div class="current-info">
        <h3>Informations Actuelles</h3>
        <div *ngIf="currentUser.imageUrl" class="avatar-container">
            <p><strong>Image de Profil :</strong></p>
            <img 
                [src]="'http://localhost:8080/' + currentUser.imageUrl" 
                alt="Image de Profil" 
                class="avatar" 
                (click)="fileInput.click()"
            />
        </div>
    </div>
  
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label for="nom">Modifier Nom Complet :</label>
            <input 
                id="nom" 
                formControlName="nom" 
                type="text" 
                class="form-control" 
                placeholder="Entrez votre nom" 
                required
            />
            <div *ngIf="userForm.get('nom')?.invalid && userForm.get('nom')?.touched" class="error">
                Le nom est requis.
            </div>
        </div>
  
        <div class="form-group">
            <label for="password">Nouveau Mot de Passe :</label>
            <input 
                id="password" 
                formControlName="password" 
                type="password" 
                class="form-control" 
                placeholder="Entrez votre nouveau mot de passe"
            />
            <div *ngIf="userForm.get('password')?.invalid && userForm.get('password')?.touched" class="error">
                Le mot de passe doit avoir au moins 6 caractères.
            </div>
        </div>
  
        <div class="form-group">
            <label for="confirmPassword">Confirmer le Mot de Passe :</label>
            <input 
                id="confirmPassword" 
                formControlName="confirmPassword" 
                type="password" 
                class="form-control" 
                placeholder="Confirmez votre mot de passe"
            />
            <div *ngIf="userForm.get('confirmPassword')?.invalid && userForm.get('confirmPassword')?.touched" class="error">
                Le mot de passe doit avoir au moins 6 caractères.
            </div>
        </div>
  
        <div class="form-group">
            <label for="image">Image de Profil :</label>
            <input 
                id="image" 
                type="file" 
                (change)="onFileChange($event)" 
                class="form-control-file" 
                #fileInput 
                style="display: none;"  
            />
        </div>
  
        <button type="submit" [disabled]="userForm.invalid" class="btn btn-primary">
            Mettre à Jour
        </button>
    </form>
</div>
